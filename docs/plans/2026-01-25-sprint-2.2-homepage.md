# Sprint 2.2: Homepage Implementation Plan

> **For Claude:** REQUIRED SUB-SKILL: Use superpowers:executing-plans to implement this plan task-by-task.

**Goal:** Build a complete homepage with hero section, quick links, latest news, upcoming events, and newsletter signup - all fetching real data from the database.

**Architecture:** Server components for data fetching, client components only where interactivity needed (newsletter form, animations). Components created in `packages/ui/src/components/` for reusability, page assembled in `apps/web/app/page.tsx`.

**Tech Stack:** Next.js 15 App Router, React 19, Tailwind CSS, @repo/database repositories, framer-motion for animations

---

## Context

**Existing infrastructure:**
- `apps/web/app/layout.tsx` - Root layout with fonts, header, footer
- `apps/web/app/metadata.ts` - SEO configuration
- `packages/database/src/repositories/posts.ts` - PostWithAuthor, findAll with status/category filters
- `packages/database/src/repositories/events.ts` - Event, findAll with upcoming filter
- `packages/ui/src/primitives/` - Button, Input, Card, Label, Badge components
- `packages/ui/src/components/` - NavMenu, MobileDrawer, Footer

**Sprint 2.2 acceptance criteria:**
1. Hero section with featured news
2. Quick links grid (Natječaji, Prijava problema, etc.)
3. Latest news cards (3-4 items)
4. Upcoming events section
5. Newsletter signup widget
6. Responsive layout per DESIGN-SYSTEM.md
7. Animations (fade-in on scroll)
8. Static generation (getStaticProps equivalent in App Router)

**Gate:** Homepage loads with real data from DB, Lighthouse > 80

---

## Task 1: Create PostCard component

**Files:**
- Create: `packages/ui/src/components/post-card.tsx`
- Modify: `packages/ui/src/index.ts`

**Step 1: Create the PostCard component**

```tsx
// packages/ui/src/components/post-card.tsx
import Link from 'next/link';

import { cn } from '../lib/utils';
import { Badge } from '../primitives/badge';

export interface PostCardProps {
  title: string;
  excerpt: string | null;
  slug: string;
  category: string;
  featuredImage: string | null;
  publishedAt: Date | null;
  className?: string;
}

export function PostCard({
  title,
  excerpt,
  slug,
  category,
  featuredImage,
  publishedAt,
  className,
}: PostCardProps) {
  const formattedDate = publishedAt
    ? new Intl.DateTimeFormat('hr-HR', {
        day: 'numeric',
        month: 'long',
        year: 'numeric',
      }).format(new Date(publishedAt))
    : null;

  return (
    <Link
      href={`/vijesti/${slug}`}
      className={cn(
        'group block overflow-hidden rounded-lg border border-neutral-200 bg-white shadow-sm transition-shadow hover:shadow-md',
        className
      )}
    >
      {featuredImage && (
        <div className="aspect-video overflow-hidden">
          <img
            src={featuredImage}
            alt={title}
            className="h-full w-full object-cover transition-transform duration-300 group-hover:scale-105"
          />
        </div>
      )}
      <div className="p-4">
        <div className="mb-2 flex items-center gap-2">
          <Badge variant="secondary" className="text-xs">
            {category}
          </Badge>
          {formattedDate && (
            <span className="text-xs text-neutral-500">{formattedDate}</span>
          )}
        </div>
        <h3 className="font-display text-lg font-semibold text-neutral-900 group-hover:text-primary-600">
          {title}
        </h3>
        {excerpt && (
          <p className="mt-2 line-clamp-2 text-sm text-neutral-600">{excerpt}</p>
        )}
      </div>
    </Link>
  );
}
```

**Step 2: Export from index.ts**

Add to `packages/ui/src/index.ts`:
```typescript
export * from './components/post-card';
```

**Step 3: Verify**

Run: `pnpm type-check --filter @repo/ui`
Expected: No errors

**Step 4: Commit**

```bash
git add packages/ui/src/components/post-card.tsx packages/ui/src/index.ts
git commit -m "feat(ui): add PostCard component for news display"
```

---

## Task 2: Create EventCard component

**Files:**
- Create: `packages/ui/src/components/event-card.tsx`
- Modify: `packages/ui/src/index.ts`

**Step 1: Create the EventCard component**

```tsx
// packages/ui/src/components/event-card.tsx
import { CalendarDays, MapPin } from 'lucide-react';
import Link from 'next/link';

import { cn } from '../lib/utils';

export interface EventCardProps {
  id: string;
  title: string;
  description: string | null;
  eventDate: Date;
  location: string | null;
  posterImage: string | null;
  className?: string;
}

export function EventCard({
  id,
  title,
  description,
  eventDate,
  location,
  posterImage,
  className,
}: EventCardProps) {
  const date = new Date(eventDate);
  const day = date.getDate();
  const month = new Intl.DateTimeFormat('hr-HR', { month: 'short' }).format(date);

  return (
    <Link
      href={`/dogadanja/${id}`}
      className={cn(
        'group flex gap-4 rounded-lg border border-neutral-200 bg-white p-4 shadow-sm transition-shadow hover:shadow-md',
        className
      )}
    >
      <div className="flex h-16 w-16 flex-shrink-0 flex-col items-center justify-center rounded-lg bg-primary-50 text-primary-700">
        <span className="text-2xl font-bold leading-none">{day}</span>
        <span className="text-xs uppercase">{month}</span>
      </div>
      <div className="flex-1 overflow-hidden">
        <h3 className="font-display font-semibold text-neutral-900 group-hover:text-primary-600">
          {title}
        </h3>
        {description && (
          <p className="mt-1 line-clamp-1 text-sm text-neutral-600">{description}</p>
        )}
        <div className="mt-2 flex flex-wrap gap-3 text-xs text-neutral-500">
          <span className="flex items-center gap-1">
            <CalendarDays className="h-3 w-3" />
            {new Intl.DateTimeFormat('hr-HR', {
              weekday: 'long',
              hour: '2-digit',
              minute: '2-digit',
            }).format(date)}
          </span>
          {location && (
            <span className="flex items-center gap-1">
              <MapPin className="h-3 w-3" />
              {location}
            </span>
          )}
        </div>
      </div>
    </Link>
  );
}
```

**Step 2: Export from index.ts**

Add to `packages/ui/src/index.ts`:
```typescript
export * from './components/event-card';
```

**Step 3: Verify**

Run: `pnpm type-check --filter @repo/ui`
Expected: No errors

**Step 4: Commit**

```bash
git add packages/ui/src/components/event-card.tsx packages/ui/src/index.ts
git commit -m "feat(ui): add EventCard component for events display"
```

---

## Task 3: Create QuickLinkCard component

**Files:**
- Create: `packages/ui/src/components/quick-link-card.tsx`
- Modify: `packages/ui/src/index.ts`

**Step 1: Create the QuickLinkCard component**

```tsx
// packages/ui/src/components/quick-link-card.tsx
import Link from 'next/link';
import type { LucideIcon } from 'lucide-react';

import { cn } from '../lib/utils';

export interface QuickLinkCardProps {
  title: string;
  description: string;
  href: string;
  icon: LucideIcon;
  className?: string;
}

export function QuickLinkCard({
  title,
  description,
  href,
  icon: Icon,
  className,
}: QuickLinkCardProps) {
  const isExternal = href.startsWith('http');
  const LinkComponent = isExternal ? 'a' : Link;
  const linkProps = isExternal ? { target: '_blank', rel: 'noopener noreferrer' } : {};

  return (
    <LinkComponent
      href={href}
      className={cn(
        'group flex flex-col items-center rounded-lg border border-neutral-200 bg-white p-6 text-center shadow-sm transition-all hover:border-primary-200 hover:shadow-md',
        className
      )}
      {...linkProps}
    >
      <div className="mb-4 flex h-14 w-14 items-center justify-center rounded-full bg-primary-50 text-primary-600 transition-colors group-hover:bg-primary-100">
        <Icon className="h-7 w-7" />
      </div>
      <h3 className="font-display font-semibold text-neutral-900 group-hover:text-primary-600">
        {title}
      </h3>
      <p className="mt-1 text-sm text-neutral-600">{description}</p>
    </LinkComponent>
  );
}
```

**Step 2: Export from index.ts**

Add to `packages/ui/src/index.ts`:
```typescript
export * from './components/quick-link-card';
```

**Step 3: Verify**

Run: `pnpm type-check --filter @repo/ui`
Expected: No errors

**Step 4: Commit**

```bash
git add packages/ui/src/components/quick-link-card.tsx packages/ui/src/index.ts
git commit -m "feat(ui): add QuickLinkCard component for quick links grid"
```

---

## Task 4: Create HeroSection component

**Files:**
- Create: `packages/ui/src/components/hero-section.tsx`
- Modify: `packages/ui/src/index.ts`

**Step 1: Create the HeroSection component**

```tsx
// packages/ui/src/components/hero-section.tsx
import { ArrowRight } from 'lucide-react';
import Link from 'next/link';

import { cn } from '../lib/utils';
import { Badge } from '../primitives/badge';
import { Button } from '../primitives/button';

export interface HeroPost {
  title: string;
  excerpt: string | null;
  slug: string;
  category: string;
  featuredImage: string | null;
  publishedAt: Date | null;
}

export interface HeroSectionProps {
  post: HeroPost | null;
  fallbackTitle?: string;
  fallbackDescription?: string;
  className?: string;
}

export function HeroSection({
  post,
  fallbackTitle = 'Dobrodošli u Općinu Veliki Bukovec',
  fallbackDescription = 'Službena web stranica Općine Veliki Bukovec - vijesti, dokumenti, događanja i informacije za građane.',
  className,
}: HeroSectionProps) {
  if (!post) {
    return (
      <section className={cn('bg-primary-700 py-16 md:py-24', className)}>
        <div className="container mx-auto px-4 text-center">
          <h1 className="font-display text-3xl font-bold text-white md:text-5xl">
            {fallbackTitle}
          </h1>
          <p className="mx-auto mt-4 max-w-2xl text-lg text-primary-100">
            {fallbackDescription}
          </p>
        </div>
      </section>
    );
  }

  const formattedDate = post.publishedAt
    ? new Intl.DateTimeFormat('hr-HR', {
        day: 'numeric',
        month: 'long',
        year: 'numeric',
      }).format(new Date(post.publishedAt))
    : null;

  return (
    <section className={cn('relative overflow-hidden', className)}>
      {post.featuredImage ? (
        <div className="absolute inset-0">
          <img
            src={post.featuredImage}
            alt={post.title}
            className="h-full w-full object-cover"
          />
          <div className="absolute inset-0 bg-gradient-to-t from-neutral-900/90 via-neutral-900/50 to-neutral-900/30" />
        </div>
      ) : (
        <div className="absolute inset-0 bg-primary-700" />
      )}
      <div className="container relative mx-auto px-4 py-20 md:py-32">
        <div className="max-w-3xl">
          <div className="mb-4 flex items-center gap-3">
            <Badge variant="secondary">{post.category}</Badge>
            {formattedDate && (
              <span className="text-sm text-white/80">{formattedDate}</span>
            )}
          </div>
          <h1 className="font-display text-3xl font-bold text-white md:text-5xl">
            {post.title}
          </h1>
          {post.excerpt && (
            <p className="mt-4 text-lg text-white/90 md:text-xl">{post.excerpt}</p>
          )}
          <Button asChild variant="primary" size="lg" className="mt-6">
            <Link href={`/vijesti/${post.slug}`}>
              Pročitaj više
              <ArrowRight className="ml-2 h-4 w-4" />
            </Link>
          </Button>
        </div>
      </div>
    </section>
  );
}
```

**Step 2: Export from index.ts**

Add to `packages/ui/src/index.ts`:
```typescript
export * from './components/hero-section';
```

**Step 3: Verify**

Run: `pnpm type-check --filter @repo/ui`
Expected: No errors

**Step 4: Commit**

```bash
git add packages/ui/src/components/hero-section.tsx packages/ui/src/index.ts
git commit -m "feat(ui): add HeroSection component for featured news"
```

---

## Task 5: Create NewsletterSignup component

**Files:**
- Create: `packages/ui/src/components/newsletter-signup.tsx`
- Modify: `packages/ui/src/index.ts`

**Step 1: Create the NewsletterSignup component**

```tsx
// packages/ui/src/components/newsletter-signup.tsx
'use client';

import { Mail } from 'lucide-react';
import { useState } from 'react';

import { cn } from '../lib/utils';
import { Button } from '../primitives/button';
import { Input } from '../primitives/input';

export interface NewsletterSignupProps {
  onSubmit?: (email: string) => Promise<void>;
  className?: string;
}

export function NewsletterSignup({ onSubmit, className }: NewsletterSignupProps) {
  const [email, setEmail] = useState('');
  const [status, setStatus] = useState<'idle' | 'loading' | 'success' | 'error'>('idle');
  const [message, setMessage] = useState('');

  async function handleSubmit(e: React.FormEvent) {
    e.preventDefault();
    if (!email) return;

    setStatus('loading');
    try {
      if (onSubmit) {
        await onSubmit(email);
      }
      setStatus('success');
      setMessage('Hvala na prijavi! Provjerite svoj email za potvrdu.');
      setEmail('');
    } catch {
      setStatus('error');
      setMessage('Došlo je do greške. Molimo pokušajte ponovno.');
    }
  }

  return (
    <div className={cn('rounded-lg bg-primary-50 p-6 md:p-8', className)}>
      <div className="flex items-center gap-3">
        <div className="flex h-10 w-10 items-center justify-center rounded-full bg-primary-100">
          <Mail className="h-5 w-5 text-primary-600" />
        </div>
        <h3 className="font-display text-lg font-semibold text-neutral-900">
          Pretplatite se na novosti
        </h3>
      </div>
      <p className="mt-2 text-sm text-neutral-600">
        Primajte obavijesti o najnovijim vijestima i događanjima iz Općine Veliki Bukovec.
      </p>
      {status === 'success' ? (
        <p className="mt-4 text-sm font-medium text-success">{message}</p>
      ) : (
        <form onSubmit={handleSubmit} className="mt-4 flex gap-2">
          <Input
            type="email"
            placeholder="Vaša email adresa"
            value={email}
            onChange={(e) => setEmail(e.target.value)}
            required
            className="flex-1"
            aria-label="Email adresa za pretplatu"
          />
          <Button type="submit" variant="primary" disabled={status === 'loading'}>
            {status === 'loading' ? 'Šaljem...' : 'Pretplati se'}
          </Button>
        </form>
      )}
      {status === 'error' && (
        <p className="mt-2 text-sm text-error">{message}</p>
      )}
    </div>
  );
}
```

**Step 2: Export from index.ts**

Add to `packages/ui/src/index.ts`:
```typescript
export * from './components/newsletter-signup';
```

**Step 3: Verify**

Run: `pnpm type-check --filter @repo/ui`
Expected: No errors

**Step 4: Commit**

```bash
git add packages/ui/src/components/newsletter-signup.tsx packages/ui/src/index.ts
git commit -m "feat(ui): add NewsletterSignup component"
```

---

## Task 6: Create SectionHeader component

**Files:**
- Create: `packages/ui/src/components/section-header.tsx`
- Modify: `packages/ui/src/index.ts`

**Step 1: Create the SectionHeader component**

```tsx
// packages/ui/src/components/section-header.tsx
import { ArrowRight } from 'lucide-react';
import Link from 'next/link';

import { cn } from '../lib/utils';

export interface SectionHeaderProps {
  title: string;
  description?: string;
  linkText?: string;
  linkHref?: string;
  className?: string;
}

export function SectionHeader({
  title,
  description,
  linkText,
  linkHref,
  className,
}: SectionHeaderProps) {
  return (
    <div className={cn('mb-6 flex items-end justify-between md:mb-8', className)}>
      <div>
        <h2 className="font-display text-2xl font-bold text-neutral-900 md:text-3xl">
          {title}
        </h2>
        {description && (
          <p className="mt-1 text-neutral-600">{description}</p>
        )}
      </div>
      {linkText && linkHref && (
        <Link
          href={linkHref}
          className="hidden items-center gap-1 text-sm font-medium text-primary-600 hover:text-primary-700 md:flex"
        >
          {linkText}
          <ArrowRight className="h-4 w-4" />
        </Link>
      )}
    </div>
  );
}
```

**Step 2: Export from index.ts**

Add to `packages/ui/src/index.ts`:
```typescript
export * from './components/section-header';
```

**Step 3: Verify**

Run: `pnpm type-check --filter @repo/ui`
Expected: No errors

**Step 4: Commit**

```bash
git add packages/ui/src/components/section-header.tsx packages/ui/src/index.ts
git commit -m "feat(ui): add SectionHeader component"
```

---

## Task 7: Create FadeIn animation wrapper component

**Files:**
- Create: `packages/ui/src/components/fade-in.tsx`
- Modify: `packages/ui/src/index.ts`
- Modify: `packages/ui/package.json` (add framer-motion)

**Step 1: Install framer-motion**

Run: `cd packages/ui && pnpm add framer-motion`

**Step 2: Create the FadeIn component**

```tsx
// packages/ui/src/components/fade-in.tsx
'use client';

import { motion, useInView } from 'framer-motion';
import { useRef } from 'react';

import { cn } from '../lib/utils';

export interface FadeInProps {
  children: React.ReactNode;
  className?: string;
  delay?: number;
  direction?: 'up' | 'down' | 'left' | 'right' | 'none';
  duration?: number;
  once?: boolean;
}

const directionVariants = {
  up: { y: 24 },
  down: { y: -24 },
  left: { x: 24 },
  right: { x: -24 },
  none: {},
};

export function FadeIn({
  children,
  className,
  delay = 0,
  direction = 'up',
  duration = 0.5,
  once = true,
}: FadeInProps) {
  const ref = useRef<HTMLDivElement>(null);
  const isInView = useInView(ref, { once, margin: '-50px' });

  return (
    <motion.div
      ref={ref}
      initial={{ opacity: 0, ...directionVariants[direction] }}
      animate={isInView ? { opacity: 1, x: 0, y: 0 } : undefined}
      transition={{ duration, delay, ease: 'easeOut' }}
      className={cn(className)}
    >
      {children}
    </motion.div>
  );
}
```

**Step 3: Export from index.ts**

Add to `packages/ui/src/index.ts`:
```typescript
export * from './components/fade-in';
```

**Step 4: Verify**

Run: `pnpm type-check --filter @repo/ui`
Expected: No errors

**Step 5: Commit**

```bash
git add packages/ui/src/components/fade-in.tsx packages/ui/src/index.ts packages/ui/package.json pnpm-lock.yaml
git commit -m "feat(ui): add FadeIn animation component with framer-motion"
```

---

## Task 8: Add repository methods for homepage data

**Files:**
- Modify: `packages/database/src/repositories/posts.ts`
- Modify: `packages/database/src/repositories/events.ts`

**Step 1: Add getFeaturedPost and getLatestPosts to posts repository**

Add to `packages/database/src/repositories/posts.ts`:

```typescript
  /**
   * Get the latest featured published post
   */
  async getFeaturedPost(): Promise<PostWithAuthor | null> {
    return db.post.findFirst({
      where: {
        isFeatured: true,
        publishedAt: { not: null },
      },
      include: { author: { select: authorSelect } },
      orderBy: { publishedAt: 'desc' },
    });
  },

  /**
   * Get latest published posts (excluding featured)
   */
  async getLatestPosts(limit: number = 4, excludeFeatured: boolean = true): Promise<PostWithAuthor[]> {
    const where: Prisma.PostWhereInput = {
      publishedAt: { not: null },
    };

    if (excludeFeatured) {
      where.isFeatured = false;
    }

    return db.post.findMany({
      where,
      include: { author: { select: authorSelect } },
      orderBy: { publishedAt: 'desc' },
      take: limit,
    });
  },
```

**Step 2: Add getUpcomingEvents to events repository**

Add to `packages/database/src/repositories/events.ts`:

```typescript
  /**
   * Get upcoming events (from today onwards)
   */
  async getUpcomingEvents(limit: number = 5): Promise<Event[]> {
    const today = new Date();
    today.setHours(0, 0, 0, 0);

    return db.event.findMany({
      where: {
        eventDate: { gte: today },
      },
      orderBy: { eventDate: 'asc' },
      take: limit,
    });
  },
```

**Step 3: Verify**

Run: `pnpm type-check --filter @repo/database`
Expected: No errors

**Step 4: Commit**

```bash
git add packages/database/src/repositories/posts.ts packages/database/src/repositories/events.ts
git commit -m "feat(database): add homepage data fetching methods to repositories"
```

---

## Task 9: Create homepage quick links data

**Files:**
- Create: `apps/web/lib/quick-links.ts`

**Step 1: Create quick links configuration**

```typescript
// apps/web/lib/quick-links.ts
import {
  FileText,
  AlertTriangle,
  Trash2,
  FileSearch,
  CalendarDays,
  Users,
} from 'lucide-react';

import type { LucideIcon } from 'lucide-react';

export interface QuickLink {
  title: string;
  description: string;
  href: string;
  icon: LucideIcon;
}

export const quickLinks: QuickLink[] = [
  {
    title: 'Natječaji',
    description: 'Aktivni natječaji i javni pozivi',
    href: '/natjecaji',
    icon: FileText,
  },
  {
    title: 'Prijava problema',
    description: 'Prijavite komunalni problem',
    href: '/prijava-problema',
    icon: AlertTriangle,
  },
  {
    title: 'Odvoz otpada',
    description: 'Raspored odvoza otpada',
    href: '/odvoz-otpada',
    icon: Trash2,
  },
  {
    title: 'Dokumenti',
    description: 'Službeni dokumenti i obrasci',
    href: '/dokumenti',
    icon: FileSearch,
  },
  {
    title: 'Događanja',
    description: 'Kalendar događanja',
    href: '/dogadanja',
    icon: CalendarDays,
  },
  {
    title: 'Udruge',
    description: 'Udruge u općini',
    href: '/rad-uprave/udruge',
    icon: Users,
  },
];
```

**Step 2: Commit**

```bash
git add apps/web/lib/quick-links.ts
git commit -m "feat(web): add quick links configuration for homepage"
```

---

## Task 10: Build the homepage

**Files:**
- Modify: `apps/web/app/page.tsx`

**Step 1: Replace demo page with full homepage**

```tsx
// apps/web/app/page.tsx
import { postsRepository, eventsRepository } from '@repo/database';
import {
  EventCard,
  FadeIn,
  HeroSection,
  NewsletterSignup,
  PostCard,
  QuickLinkCard,
  SectionHeader,
} from '@repo/ui';

import { quickLinks } from '../lib/quick-links';

export const revalidate = 60; // Revalidate every 60 seconds

async function getHomepageData() {
  const [featuredPost, latestPosts, upcomingEvents] = await Promise.all([
    postsRepository.getFeaturedPost(),
    postsRepository.getLatestPosts(4),
    eventsRepository.getUpcomingEvents(4),
  ]);

  return { featuredPost, latestPosts, upcomingEvents };
}

export default async function HomePage() {
  const { featuredPost, latestPosts, upcomingEvents } = await getHomepageData();

  return (
    <>
      {/* Hero Section */}
      <HeroSection post={featuredPost} />

      {/* Quick Links Section */}
      <section className="py-12 md:py-16">
        <div className="container mx-auto px-4">
          <FadeIn>
            <SectionHeader
              title="Brze poveznice"
              description="Pristupite najčešće korištenim uslugama"
            />
          </FadeIn>
          <div className="grid grid-cols-2 gap-4 md:grid-cols-3 lg:grid-cols-6">
            {quickLinks.map((link, index) => (
              <FadeIn key={link.href} delay={index * 0.1}>
                <QuickLinkCard
                  title={link.title}
                  description={link.description}
                  href={link.href}
                  icon={link.icon}
                />
              </FadeIn>
            ))}
          </div>
        </div>
      </section>

      {/* Latest News Section */}
      <section className="bg-neutral-100 py-12 md:py-16">
        <div className="container mx-auto px-4">
          <FadeIn>
            <SectionHeader
              title="Najnovije vijesti"
              description="Pratite aktualna događanja u općini"
              linkText="Sve vijesti"
              linkHref="/vijesti"
            />
          </FadeIn>
          {latestPosts.length > 0 ? (
            <div className="grid gap-6 sm:grid-cols-2 lg:grid-cols-4">
              {latestPosts.map((post, index) => (
                <FadeIn key={post.id} delay={index * 0.1}>
                  <PostCard
                    title={post.title}
                    excerpt={post.excerpt}
                    slug={post.slug}
                    category={post.category}
                    featuredImage={post.featuredImage}
                    publishedAt={post.publishedAt}
                  />
                </FadeIn>
              ))}
            </div>
          ) : (
            <FadeIn>
              <p className="text-center text-neutral-600">
                Trenutno nema objavljenih vijesti.
              </p>
            </FadeIn>
          )}
        </div>
      </section>

      {/* Events and Newsletter Section */}
      <section className="py-12 md:py-16">
        <div className="container mx-auto px-4">
          <div className="grid gap-8 lg:grid-cols-2">
            {/* Upcoming Events */}
            <div>
              <FadeIn>
                <SectionHeader
                  title="Nadolazeća događanja"
                  linkText="Sva događanja"
                  linkHref="/dogadanja"
                />
              </FadeIn>
              {upcomingEvents.length > 0 ? (
                <div className="space-y-4">
                  {upcomingEvents.map((event, index) => (
                    <FadeIn key={event.id} delay={index * 0.1} direction="left">
                      <EventCard
                        id={event.id}
                        title={event.title}
                        description={event.description}
                        eventDate={event.eventDate}
                        location={event.location}
                        posterImage={event.posterImage}
                      />
                    </FadeIn>
                  ))}
                </div>
              ) : (
                <FadeIn>
                  <p className="text-neutral-600">
                    Trenutno nema nadolazećih događanja.
                  </p>
                </FadeIn>
              )}
            </div>

            {/* Newsletter Signup */}
            <div>
              <FadeIn direction="right">
                <SectionHeader title="Ostanite informirani" />
                <NewsletterSignup />
              </FadeIn>
            </div>
          </div>
        </div>
      </section>
    </>
  );
}
```

**Step 2: Verify**

Run: `pnpm type-check --filter @repo/web`
Expected: No errors

Run: `cd apps/web && pnpm dev`
- Visit http://localhost:3000
- Verify hero section renders (with or without featured post)
- Verify quick links grid displays
- Verify news cards section displays
- Verify events section displays
- Verify newsletter signup form displays
- Test on mobile viewport (responsive layout)

**Step 3: Commit**

```bash
git add apps/web/app/page.tsx
git commit -m "feat(web): build complete homepage with all sections"
```

---

## Task 11: Final verification and lint fixes

**Files:**
- All modified files

**Step 1: Run type-check across entire repo**

Run: `pnpm type-check`
Expected: No errors

**Step 2: Run lint and fix issues**

Run: `pnpm lint`
If there are errors, run: `pnpm lint --fix`

**Step 3: Run dev server and test all functionality**

Run: `cd apps/web && pnpm dev`

Checklist:
- [ ] Hero section displays featured post (or fallback)
- [ ] Quick links grid shows all 6 items
- [ ] Latest news shows up to 4 cards
- [ ] Events section shows upcoming events
- [ ] Newsletter form accepts email input
- [ ] Animations trigger on scroll
- [ ] Mobile layout is responsive
- [ ] No console errors
- [ ] No hydration mismatches

**Step 4: Run Lighthouse audit**

Open Chrome DevTools → Lighthouse
- Performance > 80
- Accessibility > 90
- Best Practices > 90
- SEO > 90

**Step 5: Commit any fixes**

```bash
git add -A
git commit -m "fix(web): resolve lint and type errors"
```

---

## Task 12: Update documentation

**Files:**
- Modify: `CHANGELOG.md`
- Modify: `ROADMAP.md`

**Step 1: Update CHANGELOG.md**

Add under `## Unreleased` or create new section:

```markdown
## Sprint 2.2 - Homepage (Completed)

### Added
- HeroSection component with featured news display
- PostCard component for news display
- EventCard component for events display
- QuickLinkCard component for quick links grid
- NewsletterSignup component with form validation
- SectionHeader component for section titles
- FadeIn animation component using framer-motion
- Homepage data fetching methods in repositories
- Quick links configuration
- Complete homepage with all sections
- Revalidation every 60 seconds for fresh data
- Gate: Homepage loads with real data, Lighthouse > 80
```

**Step 2: Update ROADMAP.md**

Change Sprint 2.2 from `⬜` to `✅` and update Phase 2 progress to 2/12.

**Step 3: Commit documentation**

```bash
git add CHANGELOG.md ROADMAP.md
git commit -m "docs: complete Sprint 2.2 - Homepage"
```

---

## Summary

This plan completes Sprint 2.2 by:
1. Creating PostCard component for news display
2. Creating EventCard component for events display
3. Creating QuickLinkCard component for quick links
4. Creating HeroSection component for featured news
5. Creating NewsletterSignup component
6. Creating SectionHeader component
7. Creating FadeIn animation component with framer-motion
8. Adding repository methods for homepage data fetching
9. Creating quick links configuration
10. Building the complete homepage
11. Running verification and fixing issues
12. Updating documentation

Total tasks: 12
Gate: Homepage loads with real data from DB, Lighthouse > 80
